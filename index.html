<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Counters</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="node_modules/react/umd/react.development.js"></script>
  <script src="node_modules/react-dom/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
</head>

<body>
  <div id='anchor'></div>
  <script type="text/babel">

    class App extends React.Component {
      constructor(props) {
        super(props);
          this.state = {
            counters: []
          }
        this.incrementCounterElement = this.incrementCounterElement.bind(this);
      }

      incrementCounterElement() {
        let updatedArray = this.state.counters;
        let key = this.state.counters.length;
        updatedArray.push(<Counter key={key}/>)
        this.setState({counters: updatedArray})
      }

      render() {
        return (
          <div>
            <button onClick={this.incrementCounterElement} >
            Add Counter
            </button>
            <div>
              {this.state.counters}
            </div>
          </div>
        )
      }
    }

    class Counter extends React.Component {
      constructor(props) {
        super(props);
        this.state = {
          count: '0'
        }
        this.addValueTo = this.addValueTo.bind(this)
      }

      addValueTo(val) {
          this.setState({count: parseInt(this.state.count) + val})
        }
 
      render() {

        const rectangleStyle = {
          border: 'solid 1px black',
          height: '200px',
          width: '400px',
          marginLeft:'auto',
          marginRight: 'auto',
          marginBottom: '20px',
          position:'relative'
        }

        const numberStyle = {
          height:'60%',
          display: 'flex',
          alignItems:'center',
          justifyContent:'center',
          fontSize: '48px',
          fontFamily:'sans-serif'
        }

        const buttonPositionStyle = {
          float: 'left',
          width: '50%',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center'
        }

        const buttonStyle = {
          left: '50px',
          fontSize: '24px',
          width: '140px'
          }
          
        return (
          <div style = {rectangleStyle}>
              <div style = {numberStyle}>
                  {this.state.count}
            </div>
              <div style = {{height: '40%'}}>
                <div style = {buttonPositionStyle}>
                    <button style = {buttonStyle} onClick={ () => this.addValueTo(-1)} >
                      Decrement
                  </button>
                </div>
                <div style = {buttonPositionStyle}>
                    <button style = {buttonStyle} onClick={() => this.addValueTo(1)} >
                        Increment
                    </button>
                  </div>
              </div>
            </div>
        )
      }

    }

    ReactDOM.render(<App />,document.getElementById('anchor'))
  </script>

</body>

</html>